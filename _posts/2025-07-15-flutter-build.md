---
layout: single
title: Flutter_Build
date: 2025-07-15
categories:
  - flutter
---
**Flavor**ì™€ **Fastlane**ì€ ì•±ì„ **ë¹ ë¥´ê²Œ**, **ì‹¤ìˆ˜ ì—†ì´**, **í™˜ê²½ì— ë§ê²Œ** ë°°í¬í•˜ê¸° ìœ„í•´ ê¼­ ì•Œì•„ë‘ë©´ ì¢‹ì€ ê¸°ìˆ ì…ë‹ˆë‹¤.

---

ì¢‹ì•„ìš”! Flutter ì•± ê°œë°œì—ì„œ **Flavor**ì™€ **Fastlane**ì€ ì•±ì„ **ë¹ ë¥´ê²Œ**, **ì‹¤ìˆ˜ ì—†ì´**, **í™˜ê²½ì— ë§ê²Œ** ë°°í¬í•˜ê¸° ìœ„í•´ ê¼­ ì•Œì•„ë‘ë©´ ì¢‹ì€ ê¸°ìˆ ì´ì—ìš”.  
ê³ ë“±í•™ìƒë„ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ì‰½ê²Œ í’€ì–´ë“œë¦´ê²Œìš”! ğŸ‘‡

---

### ğŸ­ 1. **Flavor (í”Œë ˆì´ë²„)** â€” â€œì•± í™˜ê²½ì„ êµ¬ë¶„í•˜ëŠ” ê¸°ìˆ â€

ğŸ‘‰ í”Œë ˆì´ë²„ëŠ” í•˜ë‚˜ì˜ ì•±ì„ **ì—¬ëŸ¬ ë²„ì „ìœ¼ë¡œ ë‚˜ëˆ ì„œ** ë§Œë“¤ ìˆ˜ ìˆê²Œ ë„ì™€ì£¼ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.  

|êµ¬ë¶„|í•˜ëŠ” ì¼|
|---|---|
|`Dev` (ê°œë°œìš©)|ê°œë°œìê°€ í…ŒìŠ¤íŠ¸í•  ë•Œ ì“°ëŠ” ì•±|
|`Staging` (ì¤€ë¹„ìš©)|í…ŒìŠ¤íŠ¸ ì¤‘ì¸ ë²„ì „, QA íŒ€ì´ í™•ì¸ìš©|
|`Prod` (ìš´ì˜ìš©)|ì§„ì§œ ì‚¬ìš©ìë“¤ì´ ì“°ëŠ” ì•±|

â†’ ê°™ì€ ì•±ì´ë¼ë„ **ì´ë¦„, ì•„ì´ì½˜, ì„œë²„ ì£¼ì†Œ**ë¥¼ ë‹¤ë¥´ê²Œ ì„¤ì •í•  ìˆ˜ ìˆì–´ìš”!

---

### ğŸ’¡ ì™œ í•„ìš”í•œê°€?

> ì‹¤ìˆ˜ ë°©ì§€ + í…ŒìŠ¤íŠ¸ í¸ë¦¬

ì˜ˆ: `prod`ìš© ì•±ì€ ì§„ì§œ ìœ ì € ë°ì´í„°ë¥¼ ì“°ê³ ,  
`dev`ëŠ” í…ŒìŠ¤íŠ¸ìš© ì„œë²„ë¥¼ ì“°ê²Œ í•  ìˆ˜ ìˆì–´ìš”.

---

### ğŸ“‚ ì–´ë–»ê²Œ ì”ë‹ˆê¹Œ?

```bash
lib/
  main_dev.dart
  main_prod.dart
  flavors/
    dev_config.dart
    prod_config.dart
```

- `main_dev.dart`: ê°œë°œìš© ì•± ì‹¤í–‰ ì§„ì…ì 
- `dev_config.dart`: ê°œë°œìš© ì„¤ì •ë“¤ (ì˜ˆ: í…ŒìŠ¤íŠ¸ ì„œë²„ ì£¼ì†Œ)

---

### âš™ï¸ Android ì„¤ì • (`build.gradle`)

```groovy
flavorDimensions "app"
productFlavors {
  dev {
    dimension "app"
    applicationIdSuffix ".dev"  // ì•± IDì— .dev ë¶™ì„
    resValue "string", "app_name", "MyApp Dev"
  }
  prod {
    dimension "app"
    resValue "string", "app_name", "MyApp"
  }
}
```

### âš™ï¸ iOS ì„¤ì • (`Xcode`)

- Xcodeì—ì„œ **Scheme(ìŠ¤í‚´)** ë³µì œ
- `.xcconfig` íŒŒì¼ë¡œ dev/prod ì„¤ì • êµ¬ë¶„

---

### ğŸš€ 2. **Fastlane (íŒ¨ìŠ¤íŠ¸ë ˆì¸)** â€” â€œë°°í¬ ìë™í™” ë„êµ¬â€

ğŸ‘‰ ì•±ì„ iOS, Androidì— **ìë™ìœ¼ë¡œ ì—…ë¡œë“œ**í•˜ê³   
ë²„ì „ ë²ˆí˜¸ë„ **ìë™ìœ¼ë¡œ ì˜¬ë ¤ì£¼ëŠ” ë„êµ¬**ì˜ˆìš”!

> ğŸ“¦ ë³µì¡í•œ ì•± ë°°í¬ ì‘ì—…ì„ â€œí•œ ì¤„ ëª…ë ¹ì–´â€ë¡œ ëë‚¼ ìˆ˜ ìˆì–´ìš”.

---

### ğŸ’¡ ì–´ë–¤ ì¼ì„ í•©ë‹ˆê¹Œ?

|ì˜ˆì‹œ|ì„¤ëª…|
|---|---|
|ì•± ë¹Œë“œ|ì½”ë“œ â†’ ì•± íŒŒì¼ë¡œ ë§Œë“¦ (`.apk`, `.ipa`)|
|ìŠ¤í† ì–´ ì—…ë¡œë“œ|Play Store, App Storeì— ì—…ë¡œë“œ|
|í…ŒìŠ¤íŠ¸ ì—…ë¡œë“œ|Firebase App Distribution / TestFlight|
|ë²„ì „ ê´€ë¦¬|ìë™ìœ¼ë¡œ ë²„ì „ ë„˜ë²„ ì¦ê°€|

---

### ğŸ›  ì˜ˆì‹œ

#### âœ… Android (`android/fastlane/Fastfile`)

```ruby
platform :android do
  lane :deploy_dev do
    gradle(task: "assembleDevRelease")   # devìš© ë¹Œë“œ
    upload_to_play_store(track: 'internal')  # ë‚´ë¶€ í…ŒìŠ¤íŠ¸ ì—…ë¡œë“œ
  end
end
```

#### âœ… iOS (`ios/fastlane/Fastfile`)

```ruby
platform :ios do
  lane :beta do
    build_app(scheme: "MyAppDev")  # dev ìŠ¤í‚´ìœ¼ë¡œ ë¹Œë“œ
    upload_to_testflight           # TestFlightë¡œ ì—…ë¡œë“œ
  end
end
```

---

### ğŸš€ ì‹¤í–‰ ì˜ˆì‹œ

```bash
fastlane deploy_dev    # ì•ˆë“œë¡œì´ë“œ devìš© ë¹Œë“œ + ì—…ë¡œë“œ
fastlane beta          # iOS devìš© ë¹Œë“œ + TestFlight ì—…ë¡œë“œ
```

---

## ğŸ§© 3. Flavor + Fastlane í•¨ê»˜ ì“°ë©´?

|ëª…ë ¹ì–´|í•˜ëŠ” ì¼|
|---|---|
|`fastlane deploy_dev`|dev í™˜ê²½ìœ¼ë¡œ ì•± ë¹Œë“œ + í…ŒìŠ¤íŠ¸ ë°°í¬|
|`fastlane deploy_prod`|ìš´ì˜ìš© ì•±ì„ ì•±ìŠ¤í† ì–´ì— ìë™ ì—…ë¡œë“œ|

---

## ğŸ“˜ ê¼­ í•¨ê»˜ ì•Œì•„ë‘ë©´ ì¢‹ì€ ê²ƒë“¤

|ê¸°ìˆ |ì„¤ëª…|
|---|---|
|`.env` + `flutter_dotenv`|í™˜ê²½ë³€ìˆ˜ë¡œ API ì£¼ì†Œ ê´€ë¦¬|
|Firebase App Distribution|í…ŒìŠ¤íŠ¸ ì‚¬ìš©ìì—ê²Œ ë¹ ë¥´ê²Œ ë°°í¬|
|GitHub Actions|Fastlaneê³¼ í•¨ê»˜ ìë™ ë¹Œë“œí•˜ëŠ” CI/CD ë„êµ¬|

---

#### ğŸ§  ë¹„ìœ ë¡œ ì •ë¦¬!

- **Flavor** = â€œê°™ì€ ìŒì‹(ì•±)ì„ ë§¤ìš´ë§›/ìˆœí•œë§›(í™˜ê²½)ìœ¼ë¡œ ë‚˜ëˆ ì„œ ì¡°ë¦¬í•˜ëŠ” ê²ƒâ€
- **Fastlane** = â€œë°°ë‹¬ë¡œë´‡ì²˜ëŸ¼ ì•±ì„ ìë™ìœ¼ë¡œ ìŠ¤í† ì–´ë‚˜ í…ŒìŠ¤íŠ¸ ì‚¬ìš©ìì—ê²Œ ì „ë‹¬í•˜ëŠ” ë„êµ¬â€

---

#### ğŸ§ª ì—°ìŠµí•˜ê³  ì‹¶ë‹¤ë©´

- ê°„ë‹¨í•œ Flutter ì•±ì—ì„œ dev/prod flavor ë§Œë“¤ê³ 
- Androidì—ì„œ `fastlane` ì„¤ì •í•´ì„œ `deploy_dev` í•´ë³´ê¸°

---
